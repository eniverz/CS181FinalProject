import numpy as np
import matplotlib.pyplot as plt

def plot_histograms(data_list):
    bins = np.arange(40, 85, 2)
    labels = ['50', '150', '250']
    colors = ['blue', 'orange', 'green']
    
    # Calculate histogram data
    hist_data = [np.histogram(data, bins=bins) for data in data_list]
    
    # Get the bin edges and width
    bin_edges = hist_data[0][1]
    bin_width = bin_edges[1] - bin_edges[0]
    
    # Plot the histograms
    fig, ax = plt.subplots(figsize=(15, 5))
    for i, (hist, label, color) in enumerate(zip(hist_data, labels, colors)):
        bin_centers = bin_edges[:-1] + bin_width / 2
        # Normalize the histogram
        hist_normalized = hist[0] / np.sum(hist[0])
        ax.bar(bin_centers + i * bin_width / len(data_list), hist_normalized, width=bin_width / len(data_list), label=f'dvi in iter {label}', color=color, edgecolor='black')
    
    ax.set_xlabel('Win step')
    ax.set_ylabel('Frequency')
    ax.set_title('Histograms with different dvi')
    ax.legend()
    plt.tight_layout()
    plt.show()

# Example usage
# data_50 = [53, 63, 63, 65, 79, 81, 67, 67, 73, 65, 63, 59, 55, 69, 75, 73, 65, 71, 65, 69, 59, 47, 73, 71, 69, 61, 69, 55, 65, 67, 63, 79, 71, 73, 67, 63, 63, 63, 69, 65, 71, 65, 61, 55, 67, 73, 67, 67, 61, 61, 73, 63, 59, 51, 61, 63, 61, 73, 61, 67, 63, 59, 59, 67, 59, 63, 73, 61, 63, 73, 67, 67, 59, 69, 77, 77, 65]
# data_150 = [65, 61, 49, 65, 51, 59, 55, 69, 47, 63, 69, 63, 63, 67, 69, 63, 63, 63, 53, 59, 59, 51, 51, 57, 55, 67, 53, 63, 43, 55, 69, 63, 57, 55, 69, 57, 59, 71, 51, 57, 53, 53, 63, 63, 65, 51, 61, 43, 63, 57, 63, 61, 69, 41, 69, 49, 55, 53, 61, 55, 57, 63, 51, 65, 61, 55, 45, 57, 57, 47, 65, 65, 47, 55, 51, 61, 59, 69, 57, 45, 55, 65, 55, 57, 59, 49, 65, 67, 61, 55, 63, 63, 59, 65, 51, 73, 57, 59, 49, 45, 49, 59, 67, 65, 47, 61, 77, 57, 71, 59, 63, 65, 49, 59, 67, 51, 51, 47, 55, 45, 61, 51, 55, 65, 59, 53, 61, 61, 55, 61, 59, 65]
# data_250 = [67, 55, 49, 51, 45, 51, 53, 59, 63, 61, 53, 57, 45, 63, 59, 43, 61, 61, 51, 49, 67, 67, 55, 57, 57, 53, 67, 53, 59, 63, 67, 57, 47, 57, 63, 53, 61, 63, 57, 67, 69, 65, 43, 59, 59, 45, 57, 63, 63, 61, 63, 57, 61, 67, 53, 59, 59, 57, 49, 59, 57, 69, 59, 59, 59, 63, 55, 59, 65, 53, 51, 59, 59, 57, 61, 63, 51, 57, 57, 53, 55, 65, 57, 57, 45, 53, 63, 61, 71, 67, 57, 65, 55, 51, 61, 51, 47, 51, 65, 49, 51, 51, 41, 55, 57, 57, 55, 69, 71, 55, 55, 71, 57, 57, 57, 63, 55, 53, 57, 51]
data_50 =  [57, 59, 75, 55, 69, 53, 51, 59, 71, 65, 63, 67, 59, 73, 67, 67, 65, 67, 65, 79, 55, 63, 59, 61, 77, 59, 65, 73, 61, 77, 65, 63, 59, 57, 69, 63, 65, 65, 65, 55, 59, 61, 67, 69, 63, 65, 65, 65, 57, 61, 67, 53, 57, 67, 75, 73, 75, 65, 55, 55, 67, 67, 65, 59, 55, 71, 63, 65]
data_150 = [67, 65, 59, 57, 59, 57, 59, 53, 57, 57, 53, 51, 53, 59, 51, 59, 57, 53, 63, 65, 59, 53, 63, 55, 61, 53, 61, 65, 51, 59, 55, 47, 59, 65, 57, 57, 51, 49, 55, 67, 63, 51, 65, 65, 61, 59, 59, 61, 55, 61, 55, 65, 61, 57, 55, 63, 57, 65, 57, 53, 55, 59, 51, 47, 59, 47, 55, 63, 59, 61, 51, 53, 59, 59, 57, 65, 55, 53, 53, 57, 49, 55, 55, 61, 61, 65, 51, 59, 65, 55, 55, 71, 51, 51, 69, 51, 65, 49, 53, 57, 51, 57, 51, 67, 63, 57, 61, 55, 61, 61, 45, 63, 67, 49]
data_250 = [67, 55, 49, 51, 45, 51, 53, 59, 63, 61, 53, 57, 45, 63, 59, 43, 61, 61, 51, 49, 67, 67, 55, 57, 57, 53, 67, 53, 59, 63, 67, 57, 47, 57, 63, 53, 61, 63, 57, 67, 69, 65, 43, 59, 59, 45, 57, 63, 63, 61, 63, 57, 61, 67, 53, 59, 59, 57, 49, 59, 57, 69, 59, 59, 59, 63, 55, 59, 65, 53, 51, 59, 59, 57, 61, 63, 51, 57, 57, 53, 55, 65, 57, 57, 45, 53, 63, 61, 71, 67, 57, 65, 55, 51, 61, 51, 47, 51, 65, 49, 51, 51, 41, 55, 57, 57, 55, 69, 71, 55, 55, 71, 57, 57, 57, 63, 55, 53, 57, 51]

plot_histograms([data_50, data_150, data_250])